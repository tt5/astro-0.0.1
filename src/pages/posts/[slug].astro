---

export const prerender = true;
import { CollectionEntry, getCollection } from 'astro:content';

//const post = await getEntryBySlug('blog', Astro.params.slug as CollectionEntry<'blog'>["id"]);

//const { Content } = await post  ?.render() as any

export async function getStaticPaths() {
  const allPosts = await getCollection('blog');

  return allPosts.map((post) => {
    return {
      params: { slug: post.slug }, 
      props: { post },
    };
  });
}

const { post } = Astro.props as { post: CollectionEntry<'blog'> }

const { Content } = await post.render();

import Title from '@components/Title.astro'
import Nav from '@components/Nav.astro'
---

<Nav name="posts"/>

<main style="
  padding: 0.5rem;
">
<Content />
</main>
<footer>footer</footer>
